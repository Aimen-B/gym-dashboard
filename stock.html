<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Salle de Sport</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="w-full h-screen bg-neutral-800">
    <div class="relative flex w-full h-screen">
    <!-- Header / Left Side -->
    <header
        class="h-screen py-12 w-[300px] bg-neutral-800 border-r-2 border-neutral-700 flex flex-col justify-between items-center"
      >
        <div class="flex flex-col gap-14 w-full px-8">
          <!-- Name of Salle de sport -->
          <div class="flex gap-4 items-center justify-center scale-[1.2]">
            <i class="fa-solid fa-bolt fa-2xl text-emerald-200"></i>
            <p class="text-white font-semibold">XYZ</p>
          </div>

          <!-- Identity of Manager / Admin -->
          <div class="flex flex-col items-center">
            <!-- Profile Picture -->
            <div
              class="rounded-full sm:h-[70px] sm:w-[70px] h-[100px] w-[100px] bg-red-500 overflow-hidden"
            >
              <img
                class="object-fill"
                src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fdigitalfirst.bfwpub.com%2Fassess_your_strengths_brb%2Fasset%2Fch07%2Fscreen-5-and-6e-arab-male-shutterstock_136789808_compressed.jpg&f=1&nofb=1&ipt=7102080e10103733c17db262c1063d0a9a43a29f7d6f5ab6999f39dfa861c63d&ipo=images"
                alt=""
              />
            </div>
            <!-- Name of Manager / Admin --> 
            <p class="text-white  text-lg mt-4">Gym Admin name</p>
            <!-- Edit Profile -->
            <p
              class="px-6 py-1 border-neutral-700 text-white border-2 mt-3 rounded-full"
            >
              Edit
            </p>

            <!-- Navigation -->
            <nav class="flex flex-col w-full items-center mt-12 gap-4">
              <div
                class="p-4 w-full bg-neutral-700 hover:bg-neutral-700 rounded-lg text-white flex gap-4 items-center"
              >
                <i class="fa-solid fa-grip-vertical"></i>
                <a href="/Acceuil.html">Acceuil</a>
              </div>
              <div
                class="p-4 w-full hover:bg-neutral-700 rounded-lg text-white flex gap-4 items-center"
              >
                <i class="fa-solid fa-dumbbell"></i>
                <a href="/salle.html">Musculation</a>
              </div>
              <div
                class="p-4 w-full hover:bg-neutral-700 rounded-lg text-white flex gap-4 items-center"
              >
                <i class="fa-solid fa-hand-fist"></i>
                <a href="/clubs.html">Martiaux</a>
              </div>
              <div
                class="p-4 w-full hover:bg-neutral-700 rounded-lg text-white flex gap-4 items-center"
              >
                <i class="fa-solid fa-gear"></i>
                <a href="#">Parametres</a>
              </div>
            </nav>
          </div>
        </div>

        <!-- Deconnecter -->
        <div class="px-8 w-full">
          <div
            class="p-4 hover:bg-neutral-700 rounded-lg text-white flex gap-4 items-center"
          >
            <i class="fa-solid fa-power-off"></i>
            <a href="#">Deconnecter</a>
          </div>
        </div>
    </header>
    <!-- page title -->
    <div class="w-[calc(100%-300px)] text-white">

      <div class="flex items-center">
        <div class="text-white text-3xl m-6">
            <h1>Stock</h1>
            
          </div>
          <!-- Search Bar -->
            <div
              class="flex items-center border-2 px-4 border-neutral-700 rounded-full"
            >
              <i class="fa-solid fa-magnifying-glass text-white"></i
              ><input
                id="searchInput"
                type="text"
                class="bg-transparent text-lg pl-4 py-2 min-w-[40vh] border-0 ring-0 outline-0 text-white"
                placeholder="Search for something...."
              />
            </div>
            </div>
          <div> 
            <!-- product menu -->
            <div class="grid grid-cols-6">
                <button>Add Product</button>
                <button></button>
            </div>
            <!-- products -->
            <!-- products -->
<div id="productContainer" class="h-[60vh] overflow-y-scroll grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
    <!-- Product cards will be added here dynamically -->
  </div>
  
          </div>
          <div class="absolute w-[75%] mr-4 z-10 bottom-0 m-3">
  
            <div class=" justify-between  flex w-full bg-neutral-600 h-40 p-5">
              <div class="">
                <p class="text-xl">Items</p>
                <div class="flex flex-wrap text-xs" id="selectedItems"></div>

              </div>  
              <div class="relative h-full w-[10%]">
                <p class="text-xl">Total</p>
                <div id="totalPrice">0.00</div>
                <button class="absolute bottom-0 bg-emerald-600 p-2 ">Check out</button>
              </div>
            </div>
          </div>
        </div>

  </body>
<style>
  /* ===== Scrollbar CSS ===== */
  /* Firefox */
  * {
    scrollbar-width: auto;
    scrollbar-color: #000000 #333333;
  }

  /* Chrome, Edge, and Safari */
  *::-webkit-scrollbar {
    width: 2px;
  }

  *::-webkit-scrollbar-track {
    background: #333333;
  }

  *::-webkit-scrollbar-thumb {
    background-color: #000000;
    border-radius: 10px;
    border: 3px solid #333333;
  }
</style>
<script>  
      const productContainer = document.getElementById("productContainer");
      const selectedItemsContainer = document.getElementById("selectedItems");
      const totalPriceElement = document.getElementById("totalPrice");



      const products = [
  {
    name: "Protein Powder",
    description: "High-quality protein supplement",
    quantity: 50,
    price: 19.99, // Add the price property here
    imageUrl: "https://imgs.search.brave.com/mo7dNuNi-VBrpQYbpFC8IdpIyoRhT0TDdimXsfPz-VY/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9jb250/ZW50Lm9wdGltdW1u/dXRyaXRpb24uY29t/L2kvb24vb24tZ29s/ZC1zdGFuZGFyZC0x/MDAtd2hleS1wcm90/ZWluX0ltYWdlXzAx/PyRUVExfUFJPRFVD/VF9JTUFHRVMkJmxv/Y2FsZT1lbi11cyxl/bi1nYiwqJnc9NTA5/JnNtPWFzcGVjdCZh/c3BlY3Q9MTox.jpeg",
  },
  {
    name: "Pre-workout Drink",
    description: "Boosts energy before workouts",
    quantity: 30,
    price: 24.99, // Add the price property here
    imageUrl: "url_to_pre_workout_image.jpg",
  },


  {
    name: "Protein Powder",
    description: "High-quality protein supplement",
    quantity: 50,
    price: 19.99, // Add the price property here
    imageUrl: "https://imgs.search.brave.com/mo7dNuNi-VBrpQYbpFC8IdpIyoRhT0TDdimXsfPz-VY/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9jb250/ZW50Lm9wdGltdW1u/dXRyaXRpb24uY29t/L2kvb24vb24tZ29s/ZC1zdGFuZGFyZC0x/MDAtd2hleS1wcm90/ZWluX0ltYWdlXzAx/PyRUVExfUFJPRFVD/VF9JTUFHRVMkJmxv/Y2FsZT1lbi11cyxl/bi1nYiwqJnc9NTA5/JnNtPWFzcGVjdCZh/c3BlY3Q9MTox.jpeg",
  },
  {
    name: "Pre-workout Drink",
    description: "Boosts energy before workouts",
    quantity: 30,
    price: 24.99, // Add the price property here
    imageUrl: "url_to_pre_workout_image.jpg",
  },
  {
    name: "Protein Powder",
    description: "High-quality protein supplement",
    quantity: 50,
    price: 19.99, // Add the price property here
    imageUrl: "https://imgs.search.brave.com/mo7dNuNi-VBrpQYbpFC8IdpIyoRhT0TDdimXsfPz-VY/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9jb250/ZW50Lm9wdGltdW1u/dXRyaXRpb24uY29t/L2kvb24vb24tZ29s/ZC1zdGFuZGFyZC0x/MDAtd2hleS1wcm90/ZWluX0ltYWdlXzAx/PyRUVExfUFJPRFVD/VF9JTUFHRVMkJmxv/Y2FsZT1lbi11cyxl/bi1nYiwqJnc9NTA5/JnNtPWFzcGVjdCZh/c3BlY3Q9MTox.jpeg",
  },
  {
    name: "Pre-workout Drink",
    description: "Boosts energy before workouts",
    quantity: 30,
    price: 24.99, // Add the price property here
    imageUrl: "url_to_pre_workout_image.jpg",
  },
  {
    name: "Protein Powder",
    description: "High-quality protein supplement",
    quantity: 50,
    price: 19.99, // Add the price property here
    imageUrl: "https://imgs.search.brave.com/mo7dNuNi-VBrpQYbpFC8IdpIyoRhT0TDdimXsfPz-VY/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9jb250/ZW50Lm9wdGltdW1u/dXRyaXRpb24uY29t/L2kvb24vb24tZ29s/ZC1zdGFuZGFyZC0x/MDAtd2hleS1wcm90/ZWluX0ltYWdlXzAx/PyRUVExfUFJPRFVD/VF9JTUFHRVMkJmxv/Y2FsZT1lbi11cyxl/bi1nYiwqJnc9NTA5/JnNtPWFzcGVjdCZh/c3BlY3Q9MTox.jpeg",
  },
  {
    name: "Pre-workout Drink",
    description: "Boosts energy before workouts",
    quantity: 30,
    price: 24.99, // Add the price property here
    imageUrl: "url_to_pre_workout_image.jpg",
  },
  // Add more products as needed
];
// Function to display all products
function displayAllProducts() {
  productContainer.innerHTML = ""; // Clear the product container

  products.forEach((product) => {
    const productCard = createProductCard(product);
    productContainer.appendChild(productCard);
  });
}

// Call the displayAllProducts function initially to show all products
displayAllProducts();

// Function to filter and display products based on the search input
function filterProducts() {
  const searchInput = document.getElementById("searchInput");
  const searchTerm = searchInput.value.toLowerCase();

  productContainer.innerHTML = ""; // Clear the product container

  products.forEach((product) => {
    const productName = product.name.toLowerCase();
    if (productName.includes(searchTerm)) {
      const productCard = createProductCard(product);
      productContainer.appendChild(productCard);
    }
  });
}

// Event listener to trigger the filter when the user types in the search bar
const searchInput = document.getElementById("searchInput");
searchInput.addEventListener("input", filterProducts);



// Function to create a product card HTML element
function createProductCard(product) {
  const productCard = document.createElement("div");
  productCard.className = "bg-white rounded-lg shadow-md p-4 m-4";
  productCard.innerHTML = `
    <img src="${product.imageUrl}" alt="${product.name}" class="w-full h-20 object-cover mb-1">
    <h2 class="text-xl text-black font-semibold mb-2">${product.name}</h2>
    <p class="text-gray-600 text-sm mb-2">${product.description}</p>
    <p id="${product.name}-quantity" class="text-gray-700">Quantity: ${product.quantity}</p>
    <p class="text-emerald-600 text-lg font-semibold mb-2">${product.price.toFixed(2)} DA</p> <!-- Add this line for displaying the price -->
    <div class="mt-4">
      <button class="bg-green-500 text-white px-4 py-2 rounded-full mr-2 hover:bg-green-600" onclick="sellProduct('${product.name}')">Sell</button>
    </div>
  `;

  return productCard;
}


// Function to handle selling a product
function sellProduct(productName) {
        const product = products.find((p) => p.name === productName);
        if (product && product.quantity > 0) {
          product.quantity -= 1;

          // Update the product quantity
          updateProductQuantity(productName, product.quantity);
          
          // Update the selected items and total price
          addToSelectedItems(product);
        } else {
          alert(`No more ${productName} available`);
        }
      }

      // Function to update the displayed quantity for a product
      function updateProductQuantity(productName, newQuantity) {
        const quantityElement = document.querySelector(`#${productName}-quantity`);
        if (quantityElement) {
          quantityElement.textContent = `Quantity: ${newQuantity}`;
        }
      }

      // Function to add a product to the selected items and update the total price
      function addToSelectedItems(product) {
        const selectedItemElement = document.createElement("div");
        selectedItemElement.className = "flex items-center p-2 justify-between border-b border-neutral-600";
        selectedItemElement.innerHTML = `
          <div class="flex items-center gap-2">
            <img src="${product.imageUrl}" alt="${product.name}" class="w-8 h-8 object-cover rounded-full">
            <p>${product.name}</p>
          </div>
          <button class="bg-red-500 text-white px-2 py-1 rounded-full" onclick="removeSelectedItem(this.parentElement, '${product.name}', ${product.price.toFixed(2)})">X</button>
        `;

        selectedItemsContainer.appendChild(selectedItemElement);

        // Update the total price
        updateTotalPrice(product.price);
      }

      // Function to remove a selected item and update the total price
      function removeSelectedItem(selectedItemElement, productName, productPrice) {
      selectedItemsContainer.removeChild(selectedItemElement);
        
        // Update the total price
        updateTotalPrice(-productPrice);

        // Add the quantity back to the product
 // Add the quantity back to the product
 const product = products.find((p) => p.name === productName);
  if (product) {
    product.quantity += 1;
    updateProductQuantity(productName, product.quantity);
  }
      }

      // Helper function to update the total price
      function updateTotalPrice(priceChange) {
        const currentTotalPrice = parseFloat(totalPriceElement.textContent);
        const newTotalPrice = currentTotalPrice + priceChange;
        totalPriceElement.textContent = newTotalPrice.toFixed(2);
      }
</script>

</html>
